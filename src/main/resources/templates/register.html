<!-- register.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" lang="en">
<head th:insert="~{fragments.html :: head}">
    <title>Register</title>
</head>
<body >
<!-- Include the header.html file -->
<header th:insert="~{fragments.html::navbar}"></header>
<div class="row d-flex justify-content-center align-items-center">
    <div class="col-10">
        <div class="card bg-dark text-white rounded-4" >
            <div class="row card-body p-5 text-center">
                <div class="col-lg-3 col col-md-2"></div>
                <div class="col-lg-6 col-md-8">
                    <h2 class="fw-bold mb-4 text-warning border-warning border-bottom">Register</h2>
                    <p class="text-white-50 mb-3">Please register your details!</p>

                    <form th:action="@{/register}" th:object="${user}" method="post">
                        <div class="form-floating mb-4">
                            <input th:field="*{email}" type="email" class="form-control bg-dark text-light" id="inputEmail" name="email" placeholder="email" required>
                            <label for="inputEmail">Email</label>
                            <p class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">email Error</p>
                            <p class="text-danger" th:if="${emailExists}">This email is already in use</p>
                        </div>
                        <div class="form-floating mb-4">
                            <input th:field="*{username}" type="text" class="form-control bg-dark text-light" id="inputUsername" name="username" placeholder="Username" required>
                            <label for="inputUsername">Username</label>
                            <p class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</p>
                        </div>
                        <div class="form-floating mb-4">
                            <input th:field="*{password}" type="password" class="form-control bg-dark text-light" id="inputPassword" name="password" placeholder="Password" required>
                            <label for="inputPassword">Password</label>
                            <p class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</p>
                        </div>
                        <div class="form-floating mb-4">
                            <input th:field="*{confirmPassword}" type="password" class="form-control bg-dark text-light" id="confirmPassword" name="confirmPassword" placeholder="Confirm password" required>
                            <label for="confirmPassword">Confirm Password</label>
                            <p class="text-danger" th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}">Password Error</p>
                        </div>

                        <div class="m-3 text-danger" th:if="${param.error}">
                            Cannot add item, please try again later or check the server.
                        </div>


                        <button class="btn btn-outline-warning btn-lg px-5" type="submit">Create User</button>
                    </form>
                    <div>
                        <p class="mb-0">Do you have already account? <a th:href="@{/login}" class="text-white-50 fw-bold">Login</a></p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<footer th:insert="~{fragments.html::footer}"></footer>
<!-- Bootstrap JavaScript -->
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js}"></script>
</body>
</html>


