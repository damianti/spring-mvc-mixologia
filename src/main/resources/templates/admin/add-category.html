<!-- add-category.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" lang="en">
<head th:insert="~{fragments.html :: head}">
  <title>Add a new category</title>
</head>
<body>
<header th:insert="~{fragments.html::navbar}"></header>
<div class="container py-5 ">
  <div class="row d-flex justify-content-center align-items-center">
    <div class="col-10 ">
      <div class="card bg-dark text-white rounded-4" >
        <div class="row card-body p-5 text-center">

          <h2 class="fw-bold mb-4 text-warning border-warning border-bottom">Add New Category</h2>
          <div class="col-2"></div>
          <div class="col-8">
            <form th:action="@{/category/admin/add}" th:object="${category}" method="post">
              <div class="form-floating mb-4">
                <input th:field="*{title}" type="text" class="form-control bg-dark text-light" id="inputTitle" name="title" placeholder="Item title" required>
                <label for="inputTitle">Title</label>
                <p class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title Error</p>
                <p class="text-danger" th:if="${titleExists}">This title is already in use</p>
              </div>
              <div class="form-floating mb-4">
                <textarea th:field="*{categoryExplanation}" rows="5" class="form-control bg-dark text-light" id="inputExplanation" name="content" placeholder="Explanation" required style="height: 180px"></textarea>
                <label for="inputExplanation">Content</label>
                <p class="text-danger" th:if="${#fields.hasErrors('categoryExplanation')}" th:errors="*{categoryExplanation}">Explanation Error</p>
              </div>

              <div class="m-3 text-danger" th:if="${param.error}">
                Cannot add Category, please try again later or check the server.
              </div>

              <button class="btn btn-outline-warning btn-lg px-5" type="submit">Create Category</button>
            </form>
          </div>
        </div>
        <h5><a href="/admin/users" class="link-warning m-3">Back to users list</a></h5>
      </div>
    </div>
  </div>
</div>

<footer th:insert="~{fragments.html::footer}"></footer>

<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js}"></script>

</body>
</html>
